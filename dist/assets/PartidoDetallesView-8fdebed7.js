import{o as d,c as l,a as e,b as u,w as n,d as h,t,e as g,f as j,g as m,r as _,h as c}from"./index-363b435c.js";const p="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFwAAAAoCAYAAABzXJ2PAAABgWlDQ1BzUkdCIElFQzYxOTY2LTIuMQAAKJF1kb9LQlEUxz9aYZRhkENDg0Q1WZiB1NKglAXVYAZZLfr8Ffjj8Z4S0hq0CgVRS7+G+gtqDZqDoCiCaK25qKXkdV4GSuS5nHs+93vvOdx7LljDGSWrN3sgmytooaDftRhZctmesdKOEy8dUUVXZ+cnwzS0jzssZrwZNGs1PvevtccTugKWVuFxRdUKwlPCM2sF1eRtYaeSjsaFT4XdmlxQ+NbUY1V+MTlV5S+TtXAoANZOYVeqjmN1rKS1rLC8nL5spqj83sd8iT2RW5iX2Cveg06IIH5cTDNBAB/DjMnsY1D6MyQrGuR7fvLnyEuuIrNKCY1VUqQp4Ba1KNUTEpOiJ2RkKJn9/9tXPTnirVa3+6HlyTDe+sG2BZWyYXweGkblCJoe4SJXy88fwOi76OWa1rcPjg04u6xpsR0434TuBzWqRX+kJnFrMgmvJ9ARga5raFuu9ux3n+N7CK/LV13B7h4MyHnHyjdpfGfnn6c/9wAAAAlwSFlzAAALEwAACxMBAJqcGAAACFBJREFUaIHtm3+QVlUZxz/vsgsbsCj+AoMgRHfAiXUOMCKI42SWIwp1FB2VOVmakilRaZZJ0TRmWCppOiYNg3lI8cdyFKOxkbKxSISNk+mASSXWzlLNgmGCLCxsfzzn7l4vy7vve+99l8XpO/POvee+5z7Pc5/33HOe832et8D/0SO0VQVgCPBB4ETgTOAM4AHg78AWZ/y7pcgqVMrIIxHaquOAocDVwEygGagHhgEfKHJrB/As8AKwHmhyxr/dXceCtupoYAyw2Rm/Jz/z00NbNQiwQB3wFWf8KxXSUwdMA8aGzyzg5BxEdwAPAbc647fFvyhoqxqBi4A9wFxn/MM5KMwEbdUPgJtCswUY54z/b47y6wCDjOSJRbruBl4DHDKlnAecAmwFqoGTQp+6Q9y/AxjljN8VXagGPhHOa4HF2iqX58OlxOTYeTRvZrIpzMNTgc8DGhic6LIL8MA24H7gr0CLM/5ArM/N2qqCM75DW9UfmA68DuwDrgMWJmQeA1wMdA7igrbqWeSXi/Ag8IWEol6DtupkYEvs0lvAMGf8vpTy+gGfAs4C5gFViS6/QV7/Rmf8O2l0BD0FoAZoAC4HrgSOBaY449dH/aqRX9vR5fS5yK92d1rlGTEl0b46g7MHIgvZpNjl14BvACOA1c74N1JZmYAzvgPYCzQBTdqqFcDbzvg/x/sVgmG1wCOI8wHeAcY745vzMKYcaKseBS4LzX8BI5zx+1PKWgpcFZobgdXAnYeKIHoDnWFhePUagU+GS78EZqYdXWmgraoHohHRAcxxxj+aUtaVyFQBEt5Nd8a/mdnIjOicz8Io+jLQFi6dByzrLUPCHPi12KWlaZ0d8O1wXAmc1hecDYkFJMxnd8QuzdFWje4lW4bQ9fq3A99MK0hbVQOMAv4DzHbG78huXj5IrtgAi4BXY+3HesmWqbHz1c74f2aQVYOEeUcDH8pkVc44yOGBE/gosnACTNRWjaikEWE6WRS79GAWec743cC9oblYW5WMuQ8buhvhOONbgaWhWQN8r8J2zAZOC+erEV4iKxYjo/wi4GFt1bk5yMyMbh0ecDvwRDg32qpTK2jH3HDcCVwXYtpMcMZvB74amhp4TlvVqK06I6vsLCjKFmqrqhAuYxiwyBl/S94GaKvGA5tC8yZn/F05y78TuDFx+XHgZeBFZ/zzeerrCcVGOGF7/3Ro3hji5LxxfTj+FuGX88b3gZ8g3EiES4HvAr/WVt2nrRqprTqlAroPQo98eHgFXwzNJ53xl+SlXFt1A/AjZLMzxRm/My/Z3egaAMwBTkVCxqnAyFiXDmQKvQ154w7kMbUlUVICQlu1BLgmNE93xm/IqlhbdQkScu4CznbGb8wqs0z9o4B1wACE1YujFaE6WhAibR2wLY8foFSHDwU2I3P5U8543cMtPcmrB/4U9M9wxv8qi7yMtoxEdtWXAcUimUaEZt0EvAGdu/OyUHKKTVt1BfAz5NUbn2TBypBTDTyPcMm3O+NvTSMnb4QAYQAwDvgWcAESNR3XTfeIuv4FcIcz/nel6qkuw6YVCNfRANyAcMtpMB9x9n4qs0imQggQ3kWSEDokGIYizu8PKITf/jBdwcaFwIXaqmhqehO4zRn/h0PpKSuJrK2aCawC/gGMLndOC/z0H5E0lXXGf7qc+w83wo54ErJROwdJz/VLdNsHfB14EmhOJnLKGeEAPwdeQpIEU5DFpBwsQZz9Kl3h4BGDMMCawifKjZ6JbKzmAIOQnfld4dOqrZoQ54XKLpPQVl2OrOAbkVCuvcT7JgVD9wITnPGvl6u7L0NbdRSSmP4iMqgibAZ0tOYV3fgcAiuRsGki8PESjRlEF+179/vN2QDO+J3O+PuQOP8qpEAIYDywXls1C1I43BnfBiwPzRN66h9W/zXAx5DQakG5Oo8kOOPbnfHLkAKieUiacAiwUlvVkGaEQ4hDgYVhISmGa5GysGak7iVVfjIJbVWVtmqetqpP8d0RnPFtYcQ3ILxNP2BBWof/PhzH8N6M+HugrRqOULv7kMzL9pT64jIL2qprkIe4F1m0+iyc8f9GamEA6lM53BnfRBd1e3F3fbRVxwDPIVmX+c74l9LoSsisQyKlJUHu+c74FVnl9gI+Eo6j045w6EowfyYQQ50IOcXHgqLlwI8z6IljGjADeAU4xxmfR6KioggBQ0RrH8ji8DXAdmA4EoNGCuqQEotzw/fzc2TdxoXjC874LUV79gFoqyYjO9eTwqV7MpUra6tuQTJDrQjduRXZiZ4funzWGf9QFh0JfZOBDci0MqsS9Gke0FYdC1yBDMSokmwtcEFWh9ci7NkYhODfjPALbcDnnPHLi9yeRl8BcfYMZEqb25uFSsUQbJuG5FCnA6fHvl4KXO+Mb8tckK+tupSDSym+44xPVpLmglBBsAGpqF2DLKCrnPFtISraD+zIK/yM6S1A5/aeUFd/FkJZT0RCX5W4bS2ScXomui8Ph1cju6oTw6V2hNhqySq7iM4q5CHvQUZVM0L5no3UoTyCRFFrY7ftRdi+rSlItyHAl4CbkT1IOxJfd7cGtgW71gFPJ8mrXP5yoq1aSFdp2d+c8WPzkFuC3mpk57qAg1m7JPYgNfC7gJ8iZcq7gdEI8/cyMkprgb8gNepbgOORkVxTRPYBZE9QAJaHsLlb5OXwwcG44chDDO7NBS2sJfVIZNQATEDKkU9AFvTjc1CzGyl97o8851sI1bwRaHXGrypFSG5/qtJWzQd+iGSEBh7u/wuFvcEIhLufjfxJaj3yj4qxwECETq1C4vqoXmUTcBQyTS1DHNwPWJfHM+Xp8FqEdG9xxl+bl9z3G/4HI9Coa1DIHZYAAAAASUVORK5CYII=",v={className:"crear_evento"},J={href:"#"},q={className:"crear_evento__caja"},y=["value"],D={key:0,className:"crear_evento__caja__informativo1--visible"},A=["value"],b={key:1,className:"crear_evento__caja__informativo1--visible"},w=["value"],C={key:2,className:"crear_evento__caja__informativo1--visible"},P={className:"crear_evento__boton"},U={data(){return{textDeporte:"",textHora:"",textCiudad:"",textFecha:"",expresionDeporte:/^[a-zA-ZÀ-ÿ][a-zA-ZÀ-ÿ0-9\s,]{3,}$/,deporteValido:!1,fechaValida:!0,ciudadValida:!0,horaValida:!0,mensajeError1:"Necesitas seleccionar un deporte",mensajeError2:"Se necesita escribir una ciudad",mensajeError3:"Se necesita insertar una hora",mensajeError4:"Se necesita una fecha válida",hayErrores:!1,formData:{id:this.id,idJugador1:"",idJugador2:"",idJugador3:null,idJugador4:null,idJugador5:null,idJugador6:null,idJugador7:null,idJugador8:null,idJugador9:null,idJugador10:null,deporte:this.deporte,equipo1:this.equipo1,equipo2:this.equipo2,imagen1:this.imagen1,imagen2:this.imagen2,imagen3:this.imagen3,imagen4:this.imagen4,imagen5:this.imagen5,imagen6:this.imagen6,imagen7:this.imagen7,imagen8:this.imagen8,imagen9:this.imagen9,imagen10:this.imagen10,jugador1:this.jugador1,jugador2:this.jugador2,jugador3:this.jugador3,jugador4:this.jugador4,jugador5:this.jugador5,jugador6:this.jugador6,jugador7:this.jugador7,jugador8:this.jugador8,jugador9:this.jugador9,jugador10:this.jugador10,ciudad:"",fecha:"",hora:"",equipo1:this.equipo1,equipo2:this.equipo2}}},mounted(){this.textCiudad=this.ciudad,this.textFecha=this.fecha,this.textHora=this.hora},methods:{cambiarTextoHora(r){this.textHora=r.target.value,this.textHora.length>0?this.horaValida=!0:this.horaValida=!1},cambiarTextoCiudad(r){this.textCiudad=r.target.value,this.expresionDeporte.test(this.textCiudad)?this.ciudadValida=!0:this.ciudadValida=!1},cambiarTextoFecha(r){if(this.textFecha=r.target.value,this.textFecha){let i=new Date().getFullYear(),s=this.textFecha.substr(0,4);i-s<=0?this.fechaValida=!0:this.fechaValida=!1}else this.fechaValida=!1},check(){this.ciudadValida&&this.horaValida&&this.fechaValida&&(this.$emit("check"),this.updatePartido())},ejecutarEvento(){this.check(),this.$emit("realizarEvento"),(!this.ciudadValida||!this.horaValida||!this.fechaValida)&&(this.hayErrores=!0)},async updatePartido(){this.formData.idJugador1=this.idJugador1,this.formData.idJugador2=this.idJugador2,this.formData.idJugador3=this.idJugador3,this.formData.idJugador4=this.idJugador4,this.formData.idJugador5=this.idJugador5,this.formData.idJugador6=this.idJugador6,this.formData.idJugador7=this.idJugador7,this.formData.idJugador8=this.idJugador8,this.formData.idJugador9=this.idJugador9,this.formData.idJugador10=this.idJugador10,this.formData.ciudad=this.textCiudad,this.formData.fecha=this.textFecha,this.formData.hora=this.textHora;try{const r=await m.put("https://crev-server.onrender.com/api/v1/autorizacion/partidos/"+this.id,this.formData,{withCredentials:!0});window.location.reload()}catch(r){console.error(r)}}}},f=Object.assign(U,{__name:"Modificar_evento",props:{id:{type:String,required:!0},ciudad:{type:String,required:!0},deporte:{type:String,required:!0},fecha:{type:String,required:!0},hora:{type:String,required:!0},jugador1:{type:String,required:!0},jugador2:{type:String,required:!0},jugador3:{type:String,required:!1},jugador4:{type:String,required:!1},jugador5:{type:String,required:!1},jugador6:{type:String,required:!1},jugador7:{type:String,required:!1},jugador8:{type:String,required:!1},jugador9:{type:String,required:!1},jugador10:{type:String,required:!1},imagen1:{type:String,required:!0},imagen2:{type:String,required:!0},imagen3:{type:String,required:!1},imagen4:{type:String,required:!1},imagen5:{type:String,required:!1},imagen6:{type:String,required:!1},imagen7:{type:String,required:!1},imagen8:{type:String,required:!1},imagen9:{type:String,required:!1},imagen10:{type:String,required:!1},equipo1:{type:String,required:!1},equipo2:{type:String,required:!1},idJugador1:{type:String,required:!1},idJugador2:{type:String,required:!1},idJugador3:{type:String,required:!1},idJugador4:{type:String,required:!1},idJugador5:{type:String,required:!1},idJugador6:{type:String,required:!1},idJugador7:{type:String,required:!1},idJugador8:{type:String,required:!1},idJugador9:{type:String,required:!1},idJugador10:{type:String,required:!1}},setup(r){return(a,i)=>{const s=_("tittle");return d(),l("div",null,[e("div",{className:"fondo",onClick:i[0]||(i[0]=o=>a.$emit("cerrarTodo"))}),e("form",v,[e("a",J,[e("span",{className:"material-symbols-outlined iniciar_sesion__cerrar",onClick:i[1]||(i[1]=o=>a.$emit("cerrarTodo"))},"close")]),u(s,{className:"crear_evento__titulo"},{default:n(()=>[h("Modificar evento")]),_:1}),e("section",q,[e("input",{className:"crear_evento__caja__elemento",type:"text",placeholder:"Ciudad",value:a.textCiudad,onInput:i[2]||(i[2]=(...o)=>a.cambiarTextoCiudad&&a.cambiarTextoCiudad(...o))},null,40,y),!a.ciudadValida&&a.hayErrores?(d(),l("div",D,t(a.mensajeError2),1)):g("",!0),e("input",{onInput:i[3]||(i[3]=(...o)=>a.cambiarTextoFecha&&a.cambiarTextoFecha(...o)),value:a.textFecha,className:"crear_evento__caja__elemento",type:"date"},null,40,A),!a.fechaValida&&a.hayErrores?(d(),l("div",b,t(a.mensajeError4),1)):g("",!0),e("input",{onInput:i[4]||(i[4]=(...o)=>a.cambiarTextoHora&&a.cambiarTextoHora(...o)),value:a.textHora,className:"crear_evento__caja__elemento",type:"time",placeholder:"Hora exacta",required:""},null,40,w),!a.horaValida&&a.hayErrores?(d(),l("div",C,t(a.mensajeError3),1)):g("",!0)]),e("section",P,[e("input",{type:"submit",className:"crear_evento__boton__opcion crear_evento__boton__opcion--iniciar",onClick:i[5]||(i[5]=j((...o)=>a.ejecutarEvento&&a.ejecutarEvento(...o),["prevent"])),value:"Modificar evento"})])])])}}}),S={key:0,to:"/partido_detalles",class:"partido-detalles"},V={class:"partido-detalles__deporte"},z={class:"partido-detalles__enfrentamiento"},F=e("div",{class:"partido-detalles__enfrentamiento__jugador__texto"},"Jugador 1",-1),k={class:"partido-detalles__enfrentamiento__jugador__nombre"},E=["src"],R=e("div",{class:"partido-detalles__enfrentamiento__duelo"},[e("img",{src:p})],-1),N=e("div",{class:"partido-detalles__enfrentamiento__jugador__texto"},"Jugador 2",-1),B={class:"partido-detalles__enfrentamiento__jugador__nombre"},H=["src"],I={class:"partido-detalles__datos"},O=e("div",{class:"partido-detalles__datos__enunciado"},"Datos de la disputa",-1),T={class:"partido-detalles__datos__ciudad"},M=e("div",{class:"partido-detalles__datos__ciudad__enunciado"},"Ciudad",-1),$={class:"partido-detalles__datos__ciudad__dato"},G={class:"partido-detalles__datos__fecha"},Q=e("div",{class:"partido-detalles__datos__fecha__enunciado"},"Fecha",-1),X={class:"partido-detalles__datos__fecha__dato"},Y={class:"partido-detalles__datos__hora"},K=e("div",{class:"partido-detalles__datos__hora__enunciado"},"Hora",-1),L={class:"partido-detalles__datos__hora__dato"},Z={key:1},W={class:"error"},x={data(){return{jugador1:null,jugador2:"ejemplo",deporte:"",fecha:"",hora:"",ciudad:"",imagen1:"https://cdn.resfu.com/img_data/players/medium/1004380.jpg?size=120x&lossy=1",imagen2:"https://cdn.resfu.com/img_data/players/medium/427788.jpg?size=120x&lossy=1",creacion:!1,API_partido:"https://crev-server.onrender.com/api/v1/partidos",results2:null,permisos:!1,permisoParticipar:!1,formData:{deporte:"",jugador1:"",jugador2:"",ciudad:"",fecha:"",hora:"",imagen1:"",imagen2:"",id:"",idJugador1:"",idJugador2:""}}},async mounted(){this.id=this.$route.params.id,await this.llamarApiPartido(),this.establecerValores()},methods:{recibirValores(){this.$emit("recibirValores")},toggleCreacion(){this.creacion=!this.creacion},async llamarApiPartido(){const a=await(await fetch(this.API_partido+"/"+this.id)).json();this.results2=a},async eliminarPartido(){if(this.permisos)try{await m.delete("https://crev-server.onrender.com/api/v1/autorizacion/partidos/"+this.id,{withCredentials:!0}),await this.$router.push("/"),window.location.reload()}catch(r){console.error(r)}},toggleCheckForm(){this.checkForm=!this.checkForm},realizarEvento(){this.checkForm&&(this.creacion=!1,this.checkForm=!1)},establecerValores(){this.deporte=this.results2.deporte,this.jugador1=this.results2.jugador1,this.jugador2=this.results2.jugador2,this.ciudad=this.results2.ciudad,this.fecha=this.results2.fecha,this.hora=this.results2.hora,this.imagen1=this.results2.imagen1,this.imagen2=this.results2.imagen2,this.idJugador1=this.results2.idJugador1,this.idJugador2=this.results2.idJugador2,this.establecerPermiso()},async establecerPermiso(){this.idUsuario!=0&&((await(await fetch("https://crev-server.onrender.com/api/v1/users/"+this.idUsuario)).json()).name==this.jugador1?this.permisos=!0:this.permisoParticipar=!0)},async anadirJugador(){const a=await(await fetch("https://crev-server.onrender.com/api/v1/users/"+this.idUsuario)).json();if(this.resultsUsuario=a,this.resultsUsuario.name==this.jugador1)alert("Ya estás participando");else if(this.jugador2!="Plaza vacante")alert("Plazas llenas");else{this.formData.deporte=this.deporte,this.formData.hora=this.hora,this.formData.ciudad=this.ciudad,this.formData.fecha=this.fecha,this.formData.jugador1=this.jugador1,this.formData.id=this.id,this.formData.jugador2=this.resultsUsuario.name,this.formData.idJugador1=this.idJugador1,this.formData.idJugador2=this.idUsuario,this.formData.imagen1="https://images.pexels.com/photos/5609026/pexels-photo-5609026.jpeg?auto=compress&cs=tinysrgb&w=600",this.formData.imagen2="https://images.pexels.com/photos/5609026/pexels-photo-5609026.jpeg?auto=compress&cs=tinysrgb&w=600";try{const i=await m.put("https://crev-server.onrender.com/api/v1/autorizacion/partidos/"+this.id,this.formData,{withCredentials:!0});window.location.reload()}catch(i){console.error(i)}}}}},aa=Object.assign(x,{__name:"Partido_detalles",props:{idUsuario:{type:String,required:!0}},setup(r){return(a,i)=>{const s=_("RouterLink");return a.jugador1!=null?(d(),l("div",S,[e("div",V,"Partido de "+t(a.deporte),1),e("div",z,[a.permisos?(d(),l("span",{key:0,onClick:i[0]||(i[0]=(...o)=>a.eliminarPartido&&a.eliminarPartido(...o)),class:"material-symbols-outlined partido-detalles__enfrentamiento__borrar"},"delete")):g("",!0),u(s,{to:`/perfil/${a.idJugador1}`,class:"partido-detalles__enfrentamiento__jugador"},{default:n(()=>[F,e("div",k,t(a.jugador1),1),e("img",{class:"partido-detalles__enfrentamiento__jugador__avatar",src:a.imagen1,alt:"Avatar del jugador 1"},null,8,E)]),_:1},8,["to"]),R,u(s,{to:`/perfil/${a.idJugador2}`,class:"partido-detalles__enfrentamiento__jugador"},{default:n(()=>[N,e("div",B,t(a.jugador2),1),e("img",{class:"partido-detalles__enfrentamiento__jugador__avatar",src:a.imagen2,alt:"Avatar del jugador 2"},null,8,H)]),_:1},8,["to"])]),e("div",I,[a.permisos&&!a.perfil?(d(),l("span",{key:0,onClick:i[1]||(i[1]=(...o)=>a.toggleCreacion&&a.toggleCreacion(...o)),className:"material-symbols-outlined partido-detalles__datos__modificar"},"edit")):g("",!0),O,e("div",T,[M,e("div",$,t(a.ciudad),1)]),e("div",G,[Q,e("div",X,t(a.fecha),1)]),e("div",Y,[K,e("div",L,t(a.hora),1)])]),a.permisoParticipar?(d(),l("button",{key:0,class:"partido-detalles__boton boton",onClick:i[2]||(i[2]=(...o)=>a.anadirJugador&&a.anadirJugador(...o))},"Participar")):g("",!0),a.permisos&&a.creacion?(d(),c(f,{key:1,onCerrarTodo:a.toggleCreacion,onRealizarEvento:a.realizarEvento,onCheck:a.toggleCheckForm,checkForm:a.checkForm,id:a.id,ciudad:a.ciudad,deporte:a.deporte,fecha:a.fecha,hora:a.hora,jugador1:a.jugador1,jugador2:a.jugador2,imagen1:a.imagen1,imagen2:a.imagen2,idJugador1:a.idJugador1,idJugador2:a.idJugador2},null,8,["onCerrarTodo","onRealizarEvento","onCheck","checkForm","id","ciudad","deporte","fecha","hora","jugador1","jugador2","imagen1","imagen2","idJugador1","idJugador2"])):g("",!0)])):(d(),l("div",Z,[e("div",W,[h("Cargando página... Si tarda mucho, puede que se trate de un error, por lo que "),u(s,{to:"/"},{default:n(()=>[h(" pulsa aquí")]),_:1}),h(" para volver al inicio.")])]))}}}),ea={key:0,to:"/partido_detalles",class:"partido-detalles"},ia={class:"partido-detalles__deporte"},ra={class:"partido-detalles__enfrentamiento"},ta=e("span",{class:"material-symbols-outlined partido-detalles__enfrentamiento__borrar"},"delete",-1),oa={class:"partido-detalles__enfrentamiento__equipo"},sa={class:"partido-detalles__enfrentamiento__equipo__nombre"},da={class:"partido-detalles__enfrentamiento__equipo__escudo"},ua=["src"],na={class:"partido-detalles__enfrentamiento__equipo__jugadores"},la={class:"partido-detalles__enfrentamiento__jugador__nombre"},ga=["src"],ha={class:"partido-detalles__enfrentamiento__jugador__nombre"},ma=["src"],ca={class:"partido-detalles__enfrentamiento__jugador__nombre"},_a=["src"],pa={class:"partido-detalles__enfrentamiento__jugador__nombre"},fa=["src"],ja={class:"partido-detalles__enfrentamiento__jugador__nombre"},va=["src"],Ja=e("div",{class:"partido-detalles__enfrentamiento__duelo"},[e("img",{src:p})],-1),qa={class:"partido-detalles__enfrentamiento__equipo"},ya={class:"partido-detalles__enfrentamiento__equipo__nombre"},Da={class:"partido-detalles__enfrentamiento__equipo__escudo"},Aa=["src"],ba={class:"partido-detalles__enfrentamiento__equipo__jugadores"},wa={class:"partido-detalles__enfrentamiento__jugador__nombre"},Ca=["src"],Pa={class:"partido-detalles__enfrentamiento__jugador__nombre"},Ua=["src"],Sa={class:"partido-detalles__enfrentamiento__jugador__nombre"},Va=["src"],za={class:"partido-detalles__enfrentamiento__jugador__nombre"},Fa=["src"],ka={class:"partido-detalles__enfrentamiento__jugador__nombre"},Ea=["src"],Ra={class:"partido-detalles__datos"},Na=e("div",{class:"partido-detalles__datos__enunciado"},"Datos de la disputa",-1),Ba={class:"partido-detalles__datos__ciudad"},Ha=e("div",{class:"partido-detalles__datos__ciudad__enunciado"},"Ciudad",-1),Ia={class:"partido-detalles__datos__ciudad__dato"},Oa={class:"partido-detalles__datos__fecha"},Ta=e("div",{class:"partido-detalles__datos__fecha__enunciado"},"Fecha",-1),Ma={class:"partido-detalles__datos__fecha__dato"},$a={class:"partido-detalles__datos__hora"},Ga=e("div",{class:"partido-detalles__datos__hora__enunciado"},"Hora",-1),Qa={class:"partido-detalles__datos__hora__dato"},Xa={key:1},Ya={class:"error"},Ka={data(){return{jugador1:null,jugador2:"",jugador3:"",jugador4:"",jugador5:"",jugador6:"",jugador7:"",jugador8:"",jugador9:"",jugador10:"",deporte:"",equipo1:"Ciervo Verde",equipo2:"Ballenas azules",imagen_equipo1:"https://i.ibb.co/fYRFPbh/ciervoverde.png",imagen_equipo2:"https://i.ibb.co/k9LNHCX/ballenazul.png",fecha:"",hora:"",ciudad:"",imagen1:"",imagen2:"",imagen3:"",imagen4:"",imagen5:"",imagen6:"",imagen7:"",imagen8:"",imagen9:"",imagen10:"",creacion:!1,API:"https://crev-server.onrender.com/api/v1/partidos",contadorJugador:1,result:!1,permisoParticipar:!1,permisos:!0,formData:{deporte:"",equipo1:"Ciervo Verde",equipo2:"Ballenas azules",jugador1:"",jugador2:"",jugador3:"",jugador4:"",jugador5:"",jugador6:"",jugador7:"",jugador8:"",jugador9:"",jugador10:"",ciudad:"",fecha:"",hora:"",id:"",imagen_equipo1:"https://i.ibb.co/fYRFPbh/ciervoverde.png",imagen_equipo2:"https://i.ibb.co/k9LNHCX/ballenazul.png",imagen1:"",imagen2:"",imagen3:"",imagen4:"",imagen5:"",imagen6:"",imagen7:"",imagen8:"",imagen9:"",imagen10:"",idJugador1:"",idJugador2:"",idJugador3:"",idJugador4:"",idJugador5:"",idJugador6:"",idJugador7:"",idJugador8:"",idJugador9:"",idJugador10:""}}},async mounted(){this.id=this.$route.params.id,await this.llamarApiPartido(),this.establecerValores()},methods:{recibirValores(){this.$emit("recibirValores")},toggleCreacion(){this.creacion=!this.creacion},async llamarApiPartido(){const a=await(await fetch(this.API+"/"+this.id)).json();this.results2=a,this.results2.jugador2=="Plaza vacante"?this.contadorJugador=2:this.results2.jugador3=="Plaza vacante"?this.contadorJugador=3:this.results2.jugador4=="Plaza vacante"?this.contadorJugador=4:this.results2.jugador5=="Plaza vacante"?this.contadorJugador=5:this.results2.jugador6=="Plaza vacante"?this.contadorJugador=6:this.results2.jugador7=="Plaza vacante"?this.contadorJugador=7:this.results2.jugador8=="Plaza vacante"?this.contadorJugador=8:this.results2.jugador9=="Plaza vacante"?this.contadorJugador=9:this.results2.jugador10=="Plaza vacante"?this.contadorJugador=10:this.contadorJugador=11},toggleCheckForm(){this.checkForm=!this.checkForm},async eliminarPartido(){if(this.permisos)try{await m.delete(this.API_partido+"/"+this.id),await this.$router.push("/"),window.location.reload()}catch(r){console.error(r)}},realizarEvento(){this.checkForm&&(this.creacion=!1,this.checkForm=!1)},establecerValores(){this.deporte=this.results2.deporte,this.jugador1=this.results2.jugador1,this.jugador2=this.results2.jugador2,this.jugador3=this.results2.jugador3,this.jugador4=this.results2.jugador4,this.jugador5=this.results2.jugador5,this.jugador6=this.results2.jugador6,this.jugador7=this.results2.jugador7,this.jugador8=this.results2.jugador8,this.jugador9=this.results2.jugador9,this.jugador10=this.results2.jugador10,this.ciudad=this.results2.ciudad,this.fecha=this.results2.fecha,this.hora=this.results2.hora,this.idJugador1=this.results2.idJugador1,this.idJugador2=this.results2.idJugador2,this.idJugador3=this.results2.idJugador3,this.idJugador4=this.results2.idJugador4,this.idJugador5=this.results2.idJugador5,this.idJugador6=this.results2.idJugador6,this.idJugador7=this.results2.idJugador7,this.idJugador8=this.results2.idJugador8,this.idJugador9=this.results2.idJugador9,this.idJugador10=this.results2.idJugador10,this.imagen1=this.results2.imagen1,this.imagen2=this.results2.imagen2,this.imagen3=this.results2.imagen3,this.imagen4=this.results2.imagen4,this.imagen5=this.results2.imagen5,this.imagen6=this.results2.imagen6,this.imagen7=this.results2.imagen7,this.imagen8=this.results2.imagen8,this.imagen9=this.results2.imagen9,this.imagen10=this.results2.imagen10,this.equipo1=this.results2.equipo1,this.equipo2=this.results2.equipo2,this.establecerPermiso()},async establecerPermiso(){this.idUsuario!=0&&((await(await fetch("https://crev-server.onrender.com/api/v1/users/"+this.idUsuario)).json()).name==this.jugador1?this.permisos=!0:this.permisoParticipar=!0)},async anadirJugador(){const a=await(await fetch("https://crev-server.onrender.com/api/v1/users/"+this.idUsuario)).json();if(this.resultsUsuario=a,this.resultsUsuario.name==this.jugador1||this.resultsUsuario.name==this.jugador2||this.resultsUsuario.name==this.jugador3||this.resultsUsuario.name==this.jugador4||this.resultsUsuario.name==this.jugador5||this.resultsUsuario.name==this.jugador6||this.resultsUsuario.name==this.jugador7||this.resultsUsuario.name==this.jugador8||this.resultsUsuario.name==this.jugador9||this.resultsUsuario.name==this.jugador10)alert("Ya estás participando");else if(this.jugador2!="Plaza vacante"&&this.jugador3!="Plaza vacante"&&this.jugador4!="Plaza vacante"&&this.jugador5!="Plaza vacante"&&this.jugador6!="Plaza vacante"&&this.jugador7!="Plaza vacante"&&this.jugador8!="Plaza vacante"&&this.jugador9!="Plaza vacante"&&this.jugador10!="Plaza vacante")alert("Plazas llenas");else{this.formData.id=this.id,this.formData.deporte=this.deporte,this.formData.hora=this.hora,this.formData.ciudad=this.ciudad,this.formData.fecha=this.fecha,this.formData.jugador1=this.jugador1,this.formData.idJugador1=this.idJugador1,this.formData.imagen1=this.imagen1,this.contadorJugador==2?(this.formData.jugador2=this.resultsUsuario.name,this.formData.idJugador2=this.idUsuario,this.formData.imagen2="https://images.pexels.com/photos/5609026/pexels-photo-5609026.jpeg?auto=compress&cs=tinysrgb&w=600"):(this.formData.jugador2=this.jugador2,this.formData.idJugador2=this.idJugador2,this.formData.imagen2=this.imagen2),this.contadorJugador==3?(this.formData.jugador3=this.resultsUsuario.name,this.formData.idJugador3=this.idUsuario,this.formData.imagen3="https://images.pexels.com/photos/5609026/pexels-photo-5609026.jpeg?auto=compress&cs=tinysrgb&w=600"):(this.formData.jugador3=this.jugador3,this.formData.idJugador3=this.idJugador3,this.formData.imagen3=this.imagen3),this.contadorJugador==4?(this.formData.jugador4=this.resultsUsuario.name,this.formData.idJugador4=this.idUsuario,this.formData.imagen4="https://images.pexels.com/photos/5609026/pexels-photo-5609026.jpeg?auto=compress&cs=tinysrgb&w=600"):(this.formData.jugador4=this.jugador4,this.formData.idJugador4=this.idJugador4,this.formData.imagen4=this.imagen4),this.contadorJugador==5?(this.formData.jugador5=this.resultsUsuario.name,this.formData.idJugador5=this.idUsuario,this.formData.imagen5="https://images.pexels.com/photos/5609026/pexels-photo-5609026.jpeg?auto=compress&cs=tinysrgb&w=600"):(this.formData.jugador5=this.jugador5,this.formData.idJugador5=this.idJugador5,this.formData.imagen5=this.imagen5),this.contadorJugador==6?(this.formData.jugador6=this.resultsUsuario.name,this.formData.idJugador6=this.idUsuario,this.formData.imagen6="https://images.pexels.com/photos/5609026/pexels-photo-5609026.jpeg?auto=compress&cs=tinysrgb&w=600"):(this.formData.jugador6=this.jugador6,this.formData.idJugador6=this.idJugador6,this.formData.imagen6=this.imagen6),this.contadorJugador==7?(this.formData.jugador7=this.resultsUsuario.name,this.formData.idJugador7=this.idUsuario,this.formData.imagen7="https://images.pexels.com/photos/5609026/pexels-photo-5609026.jpeg?auto=compress&cs=tinysrgb&w=600"):(this.formData.jugador7=this.jugador7,this.formData.idJugador7=this.idJugador7,this.formData.imagen7=this.imagen7),this.contadorJugador==8?(this.formData.jugador8=this.resultsUsuario.name,this.formData.idJugador8=this.idUsuario,this.formData.imagen8="https://images.pexels.com/photos/5609026/pexels-photo-5609026.jpeg?auto=compress&cs=tinysrgb&w=600"):(this.formData.jugador8=this.jugador8,this.formData.idJugador8=this.idJugador8,this.formData.imagen8=this.imagen8),this.contadorJugador==9?(this.formData.jugador9=this.resultsUsuario.name,this.formData.idJugador9=this.idUsuario,this.formData.imagen9="https://images.pexels.com/photos/5609026/pexels-photo-5609026.jpeg?auto=compress&cs=tinysrgb&w=600"):(this.formData.jugador9=this.jugador9,this.formData.idJugador9=this.idJugador9,this.formData.imagen9=this.imagen9),this.contadorJugador==10?(this.formData.jugador10=this.resultsUsuario.name,this.formData.idJugador10=this.idUsuario,this.formData.imagen10="https://images.pexels.com/photos/5609026/pexels-photo-5609026.jpeg?auto=compress&cs=tinysrgb&w=600"):(this.formData.jugador10=this.jugador10,this.formData.idJugador10=this.idJugador10,this.formData.imagen10=this.imagen10);try{const i=await m.put("https://crev-server.onrender.com/api/v1/autorizacion/partidos/"+this.id,this.formData,{withCredentials:!0});window.location.reload()}catch(i){console.error(i)}}}}},La=Object.assign(Ka,{__name:"Partido_detalles2",props:{idUsuario:{type:String,required:!0}},setup(r){return(a,i)=>{const s=_("RouterLink");return a.jugador1!=null?(d(),l("div",ea,[e("div",ia,"Partido de "+t(a.deporte),1),e("div",ra,[ta,e("div",oa,[e("div",sa,t(a.equipo1),1),e("div",da,[e("img",{src:a.imagen_equipo1},null,8,ua)]),e("div",na,[u(s,{to:`/perfil/${a.idJugador1}`,class:"partido-detalles__enfrentamiento__equipo__jugadores__jugador"},{default:n(()=>[e("div",la,t(a.jugador1),1),e("img",{class:"partido-detalles__enfrentamiento__jugador__avatar",src:a.imagen1,alt:"Avatar del jugador 1"},null,8,ga)]),_:1},8,["to"]),u(s,{to:`/perfil/${a.idJugador3}`,class:"partido-detalles__enfrentamiento__equipo__jugadores__jugador"},{default:n(()=>[e("div",ha,t(a.jugador3),1),e("img",{class:"partido-detalles__enfrentamiento__jugador__avatar",src:a.imagen3,alt:"Avatar del jugador 3"},null,8,ma)]),_:1},8,["to"]),u(s,{to:`/perfil/${a.idJugador5}`,class:"partido-detalles__enfrentamiento__equipo__jugadores__jugador"},{default:n(()=>[e("div",ca,t(a.jugador5),1),e("img",{class:"partido-detalles__enfrentamiento__jugador__avatar",src:a.imagen5,alt:"Avatar del jugador 5"},null,8,_a)]),_:1},8,["to"]),u(s,{to:`/perfil/${a.idJugador7}`,class:"partido-detalles__enfrentamiento__equipo__jugadores__jugador"},{default:n(()=>[e("div",pa,t(a.jugador7),1),e("img",{class:"partido-detalles__enfrentamiento__jugador__avatar",src:a.imagen7,alt:"Avatar del jugador 7"},null,8,fa)]),_:1},8,["to"]),u(s,{to:`/perfil/${a.idJugador9}`,class:"partido-detalles__enfrentamiento__equipo__jugadores__jugador"},{default:n(()=>[e("div",ja,t(a.jugador9),1),e("img",{class:"partido-detalles__enfrentamiento__jugador__avatar",src:a.imagen9,alt:"Avatar del jugador 9"},null,8,va)]),_:1},8,["to"])])]),Ja,e("div",qa,[e("div",ya,t(a.equipo2),1),e("div",Da,[e("img",{src:a.imagen_equipo2},null,8,Aa)]),e("div",ba,[u(s,{to:`/perfil/${a.idJugador2}`,class:"partido-detalles__enfrentamiento__equipo__jugadores__jugador"},{default:n(()=>[e("div",wa,t(a.jugador2),1),e("img",{class:"partido-detalles__enfrentamiento__jugador__avatar",src:a.imagen2,alt:"Avatar del jugador 2"},null,8,Ca)]),_:1},8,["to"]),u(s,{to:`/perfil/${a.idJugador4}`,class:"partido-detalles__enfrentamiento__equipo__jugadores__jugador"},{default:n(()=>[e("div",Pa,t(a.jugador4),1),e("img",{class:"partido-detalles__enfrentamiento__jugador__avatar",src:a.imagen4,alt:"Avatar del jugador 4"},null,8,Ua)]),_:1},8,["to"]),u(s,{to:`/perfil/${a.idJugador6}`,class:"partido-detalles__enfrentamiento__equipo__jugadores__jugador"},{default:n(()=>[e("div",Sa,t(a.jugador6),1),e("img",{class:"partido-detalles__enfrentamiento__jugador__avatar",src:a.imagen6,alt:"Avatar del jugador 6"},null,8,Va)]),_:1},8,["to"]),u(s,{to:`/perfil/${a.idJugador8}`,class:"partido-detalles__enfrentamiento__equipo__jugadores__jugador"},{default:n(()=>[e("div",za,t(a.jugador8),1),e("img",{class:"partido-detalles__enfrentamiento__jugador__avatar",src:a.imagen8,alt:"Avatar del jugador 8"},null,8,Fa)]),_:1},8,["to"]),u(s,{to:`/perfil/${a.idJugador10}`,class:"partido-detalles__enfrentamiento__equipo__jugadores__jugador"},{default:n(()=>[e("div",ka,t(a.jugador10),1),e("img",{class:"partido-detalles__enfrentamiento__jugador__avatar",src:a.imagen10,alt:"Avatar del jugador 10"},null,8,Ea)]),_:1},8,["to"])])])]),e("div",Ra,[a.perfil?g("",!0):(d(),l("span",{key:0,onClick:i[0]||(i[0]=(...o)=>a.toggleCreacion&&a.toggleCreacion(...o)),className:"material-symbols-outlined partido-detalles__datos__modificar"},"edit")),Na,e("div",Ba,[Ha,e("div",Ia,t(a.ciudad),1)]),e("div",Oa,[Ta,e("div",Ma,t(a.fecha),1)]),e("div",$a,[Ga,e("div",Qa,t(a.hora),1)])]),a.permisoParticipar?(d(),l("button",{key:0,class:"partido-detalles__boton boton",onClick:i[1]||(i[1]=(...o)=>a.anadirJugador&&a.anadirJugador(...o))},"Participar")):g("",!0),a.creacion&&a.permisos?(d(),c(f,{key:1,onCerrarTodo:a.toggleCreacion,onRealizarEvento:a.realizarEvento,onCheck:a.toggleCheckForm,checkForm:a.checkForm,id:a.id,deporte:a.deporte,fecha:a.fecha,hora:a.hora,jugador1:a.jugador1,jugador2:a.jugador2,jugador3:a.jugador3,jugador4:a.jugador4,jugador5:a.jugador5,jugador6:a.jugador6,jugador7:a.jugador7,jugador8:a.jugador8,jugador9:a.jugador9,jugador10:a.jugador10,imagen1:a.imagen1,imagen2:a.imagen2,imagen3:a.imagen3,imagen4:a.imagen4,imagen5:a.imagen5,imagen6:a.imagen6,imagen7:a.imagen7,imagen8:a.imagen8,imagen9:a.imagen9,imagen10:a.imagen10,equipo1:a.equipo1,equipo2:a.equipo2,ciudad:a.ciudad,idJugador1:a.idJugador1,idJugador2:a.idJugador2,idJugador3:a.idJugador3,idJugador4:a.idJugador4,idJugador5:a.idJugador5,idJugador6:a.idJugador6,idJugador7:a.idJugador7,idJugador8:a.idJugador8,idJugador9:a.idJugador9,idJugador10:a.idJugador10},null,8,["onCerrarTodo","onRealizarEvento","onCheck","checkForm","id","deporte","fecha","hora","jugador1","jugador2","jugador3","jugador4","jugador5","jugador6","jugador7","jugador8","jugador9","jugador10","imagen1","imagen2","imagen3","imagen4","imagen5","imagen6","imagen7","imagen8","imagen9","imagen10","equipo1","equipo2","ciudad","idJugador1","idJugador2","idJugador3","idJugador4","idJugador5","idJugador6","idJugador7","idJugador8","idJugador9","idJugador10"])):g("",!0)])):(d(),l("div",Xa,[e("div",Ya,[h("Cargando página... Si tarda mucho, puede que se trate de un error, por lo que "),u(s,{to:"/"},{default:n(()=>[h(" pulsa aquí")]),_:1}),h(" para volver al inicio.")])]))}}}),Za={data(){return{equipos:!1,results2:null,API_partido:"https://crev-server.onrender.com/api/v1/partidos",id:""}},async mounted(){this.id=this.$router.currentRoute.value.params.id,await this.llamarApiPartido()},methods:{recibirValores(){this.$emit("recibirValores")},async llamarApiPartido(){const a=await(await fetch(this.API_partido+"/"+this.id)).json();this.results2=a,this.results2.equipo1&&(this.equipos=!0)}}},xa=Object.assign(Za,{__name:"PartidoDetallesView",props:{idUsuario:{type:String,required:!0}},setup(r){return(a,i)=>(d(),l("main",null,[a.equipos?(d(),c(La,{key:0,onRecibirValores:a.recibirValores,search:a.search,id:a.id,idUsuario:r.idUsuario},null,8,["onRecibirValores","search","id","idUsuario"])):(d(),c(aa,{key:1,onRecibirValores:a.recibirValores,search:a.search,id:a.id,idUsuario:r.idUsuario},null,8,["onRecibirValores","search","id","idUsuario"]))]))}});export{xa as default};
